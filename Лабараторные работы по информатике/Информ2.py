import numpy as np
import matplotlib.pyplot as plt

x = np.log(np.linspace(1000, 10001, 91))
y1 = np.log(10**(-9)*np.array([1000300, 1087600, 991200, 1001200, 919600, 1505600, 1005200, 2081900, 2001200, 1000500, 2244100, 3057300, 2022900, 2290200, 3049500, 2961900, 4128200, 3172000, 3360700, 4087000, 3919200, 4307300, 4508400, 4998500, 6170800, 4999200, 5078700, 5996400, 6008600, 5076700, 6994200, 5685300, 7025100, 7005100, 6991500, 8028000, 6975700, 7994400, 8997800, 9006000, 8996600, 9925800, 10176200, 9530600, 10010800, 11027700, 10961800, 11003900, 11001800, 12004900, 11996200, 13085800, 12814800, 12927700, 15078700, 15007800, 14987500, 13999800, 15091300, 15438800, 16008500, 16911600, 16032600, 16968100, 18165300, 17648000, 18997700, 19001700, 19002500, 20090900, 20049200, 20079000, 21007600, 21992200, 22033300, 23142500, 22997700, 22990700, 24002100, 24504400, 24000100, 25000000, 26001800, 25503800, 26000000, 26999800, 27002200, 28503800, 29000000, 29000200, 30600000]))
y2 = np.log(10**(-9)*np.array([974800, 970000, 1027300, 916300, 950300, 998300, 999800, 1000100, 1999800, 1000000, 1000000, 2084500, 1997400, 2000500, 1998200, 2008600, 2994200, 1999900, 3001800, 3997500, 2999200, 3000000, 4001600, 3997500, 4976500, 4112000, 5002800, 4997700, 5691600, 6003600, 6003300, 5994200, 6992200, 7010400, 6992200, 8001500, 9004300, 7912600, 9080900, 9000900, 10088200, 9691900, 9996500, 11996800, 11916400, 11000100, 12092600, 11962600, 13127600, 13915400, 13504700, 13999900, 15000100, 15081600, 14943000, 16152200, 16683400, 16980400, 17019200, 17006800, 18995100, 19091200, 19698300, 20993100, 20002300, 22005100, 21087800, 24597600, 22999700, 24000100, 24002300, 25503900, 28000200, 25999800, 27534800, 26999400, 28990700, 31002300, 29503900, 30000000, 31000100, 31552100, 32076900, 32970200, 33536100, 35000100, 35999900, 35591700, 37001100, 38001400, 37690100]))
y3 = np.log(10**(-9)*np.array([989900, 999900, 1000100, 1000000, 999900, 1000000, 1000000, 1999900, 2000300, 2002100, 2000000, 2000000, 3000000, 2000100, 3000000, 3504700, 4000100, 3000000, 4000200, 4999800, 3999900, 5000000, 5000000, 6000000, 5999800, 6000300, 6999900, 6000000, 8000000, 7000000, 8002000, 8999800, 8503900, 8999900, 9999900, 10000200, 11009700, 10990100, 11009400, 12000100, 11992600, 12535600, 13000200, 13991500, 14081600, 14996500, 16006000, 15917000, 17503500, 18000000, 18000000, 19000100, 19000000, 20536700, 21000000, 21009300, 22000000, 23139100, 22719000, 24912000, 25000000, 26002000, 26693900, 27000400, 27073200, 29772200, 29919400, 31080100, 34001100, 33503900, 34980700, 35595500, 34918500, 36569900, 37025600, 37993300, 40002200, 41939500, 42641400, 43155800, 42935500, 45627200, 49233500, 45969900, 47004900, 55022000, 51004300, 52411700, 52915900, 53507000, 59347100]))

fig, ax = plt.subplots(nrows= 1 , ncols= 3, sharey= True)
ax[0].set_yticks(np.arange(-7.5, -2, 0.5))
ax[0].plot(x, y1, label="график сортировки пузырьком")
ax[1].plot(x, y2, label="график сортировки вставкой")
ax[2].plot(x, y3, label="график сортировки шейкером")

coefs1 = np.polyfit(x, y1, 2)
p1 = np.poly1d(coefs1)
coefs2 = np.polyfit(x, y2, 2)
p2 = np.poly1d(coefs2)
coefs3 = np.polyfit(x, y3, 2)
p3 = np.poly1d(coefs3)

ax[0].set_ylabel("log(t), t - время в нс.", fontsize=15)
ax[1].set_xlabel("log(n), n - количество элементов в массиве", fontsize=15)

ax[0].plot(x, p1(x), c='red', label="аппроксимация")
ax[1].plot(x, p2(x), c='red', label="аппроксимация")
ax[2].plot(x, p3(x), c='red', label="аппроксимация")

ax[0].legend()
ax[1].legend()
ax[2].legend()
plt.show()